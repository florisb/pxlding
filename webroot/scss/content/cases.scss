
// compass mixins library
// @import "lib/_animate";
@import "../lib/_compass";

// custom imports
@import "../inc/config";
@import "../inc/init";


section.cases-showcase {
	margin-bottom: $margin-def * 4;
}

section.cases {

	@include cf;

	.case {
		display: block;
		float: left;
		position: relative;
		margin-bottom: $margin-def * 3.5;

		.image-container {
			position: relative;
			background-color: $color-sec;
		}

		.image {
			width: 100%;
			height: 0;
			padding-top: 100%;
			@include bg-cover;

			&::before {
				@include pseudo-basic;
				@include absolute-cover;
				background-color: rgba(0,0,0, 0.15);
				opacity: 1;
				transition: opacity $speed-slider;
			}
		}

		.size-helper {
			display: none;
		}

		.caption {
			margin-top: $margin-def;
			text-align: center;
		}

		.subtitle, .title {
			transition: color $speed-fast;
		}

		.subtitle {
			font-size: pem(17);
			font-family: $font-sec;
			font-style: italic;
			line-height: $lineheight-def;
			margin-bottom: $margin-def / 4;
			color: $color-txt;
		}

		.title {
			font-size: pem(20);
			font-family: $font-pri;
			color: $color-txt-dark;
			@include adjusted-lh(1.3);
		}

		&:hover, &:active {

			.image {
				&::before {
					opacity: 0;
				}
			}

			.subtitle, .title {
				color: $color-pri;
			}
		}
	}
}



/*
 * Cases Detail
 */

header.case {

	$fontsizeMain: 82;

	position: relative;
	border-top: 1px solid #e8e8e8;
	padding-top: $margin-def * 3;
	margin-bottom: $margin-def * 3;

	.title {
		position: relative;
	}

	.h1 {
		font-size: pem(82);
		font-family: $font-thin;
		color: $color-txt-dark;
		line-height: 1em;
		text-align: center;
		margin-left: $margin-def * 2;
		margin-right: $margin-def * 2;
		transition: font-size $speed-fast;

		// scaled smaller for longer texts
		&.small      { font-size: pem(62); }
		&.medium     { font-size: pem(58); }
		&.large      { font-size: pem(52); }
		&.gargantuan { font-size: pem(30); }
	}

	.subtitle {
		text-align: center;
		font-size: pem(20);
		font-family: $font-sec;
		@include adjusted-lh(1.4);
		margin-top: $margin-def;
		color: $color-txt-menu;
		margin-left: $margin-def * 2;
		margin-right: $margin-def * 2;
		transition: font-size $speed-fast;
	}

	.back-link {
		position: absolute;
		left: $margin-def * 2.5;
		top: #{$fontsizeMain / 2 - 5}px;
		font-size: $fontsize-base;

		a {
			font-size: pem(17);

			// &:hover, &:active {
			// 	color: darken(white, 5);
			// }
			//
		}
	}
}

section.case-focal-imagery {
	// video or image
	$width: 700px;

	margin-bottom: $margin-def * 3;

	.container {
		max-width: $width;
		margin-left: auto;
		margin-right: auto;

		img {
			width: 100%;
		}
	}
}

section.case-introduction {

	margin-bottom: $margin-def * 3;

	.text {
		text-align: center;
	}

	.case-link {
		$widthButton: 340px;

		margin-top: $margin-def * 1.5;
		text-align: center;

		a {
			width: $widthButton;
		}
	}
}

// problem: we want to have vertically centered text
// .. using inline-blocks would mean dropping css-based
// layout..
section.case-text {

	@include cf;
	margin-bottom: $margin-def * 4;
	position: relative;

	.text, .image {
		width: col-width-abs(2, $margin-def * 4);
	}

	.text {
		position: absolute;
		height: 100%;
		top: 0;
		left: 0;
		font-size: 0;

		.container {
			display: inline-block;
			font-size: 17px;
			vertical-align: middle;

		}

		&::before {
			@include pseudo-basic;
			vertical-align: middle;
			height: 100%;
		}
	}

	.image {
		float: right;

		img {
			width: 100%;
		}
	}

	// even rows have image on the left
	&:nth-child(2n+1) {
		.text {
			// float: right;
			left: auto;
			right: 0;
		}
		.image {
			float: left;
		}
	}

	&.text-only {
		.text {
			position: relative;
			left: auto;
			right: auto;
			width: 100%;
			text-align: center;
		}
	}
}

footer.case-share {

	$height: 40px;

	margin-bottom: $margin-def * 4;
	text-align: center;
	line-height: $height;

	$sizeButton : 24px;
	$sizeIcon   : 22px;

	.text {
		display: inline-block;
	}

	.share-links {

		display: inline-block;
		margin-left: $margin-def;
		// float: left;

		a {
			vertical-align: middle;
			font-size: 0;
			position: relative;
			display: inline-block;
			width: $sizeButton;
			height: $sizeButton;
			margin-right: $margin-def / 3;
			transition: transform $speed-fast;

			&::before {
				@include pseudo-basic;
				@include bg-contain;
				position: absolute;
				width: $sizeIcon;
				height: $sizeIcon;
				top: c-off($sizeButton, $sizeIcon);
				left: c-off($sizeButton, $sizeIcon);
			}

			// &::after {
			// 	opacity: 0;
			// }

			&:last-child {
				margin-right: 0;
			}

			&:hover, &:active {
				transform: scale(1.25); /* 1/10 of the original size */

				// &::before {
				// 	opacity: 0;
				// }
				// &::after {
				// 	opacity: 1;
				// }
			}
		}

		.twitter {
			&::before {
				background-image: image-url('twitter-color.svg');
			}
			// &::after {
			// 	background-image: image-url('twitter-pink.svg');
			// }
		}
		.facebook {
			&::before {
				background-image: image-url('facebook-color.svg');
			}
			// &::after {
			// 	background-image: image-url('facebook-pink.svg');
			// }
		}
	}
}


hr.cases {
	margin: $margin-def * 3 auto;
	margin-top: 0;
}



@import "../inc-content/cases_r";
@import "../inc-content/cases-banner";